<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Data • asds2024.nils.practical</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Data">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">asds2024.nils.practical</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/get-started.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/data.html">Data</a></li>
    <li><a class="dropdown-item" href="../articles/analyses.html">Analyses</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/presentation.html">Mid-Term Presentation</a></li>
    <li><a class="dropdown-item" href="../articles/article.html">Final Report</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Data</h1>
            
      

      <div class="d-none name"><code>data.Rmd</code></div>
    </div>

    
    
<p>This vignette describes the data included in the package, how it was
prepared, and why it was prepared in the way it was. It does not
describe the final form of the data as it is included in the package in
detail (see the data description for that, e.g. <code><a href="../reference/tracks.html">?tracks</a></code>),
but rather how the original raw data looked, and how and why it was
pre-processed to end up the way it is stored in the <em>data-raw</em>
folder (see package sources on <a href="https://github.com/nils-s/cas-asds-practical" class="external-link">Github</a>).</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://nils-s.github.io/cas-asds-practical/">asds2024.nils.practical</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="acquisition">Acquisition<a class="anchor" aria-label="anchor" href="#acquisition"></a>
</h2>
<p>The raw data was captured using a (now discontinued) bike computer of
the model <a href="https://sigma.bike/product/rox-gps-11-0/" class="external-link">“Sigma ROX
GPS 11.0”</a>, with an additional chest strap heart rate sensor, and a
combined speed and cadence sensor (both sensors were bought bundled with
the bike computer itself).</p>
<p>The data was exported using the (proprietary) Sigma software, and
then exported as CSV files.</p>
<p>The data set comprises 157 trip recordings (“tracks”), each of which
is a sequence of data points taken at a five second interval. These data
points were then aggregated into one summarized row per track.
Additionally, tracks were manually classified by route, and direction in
which the route was driven. These three data sets are available in the
package under the following names:</p>
<ul>
<li>
<code>track_details</code> contains the recorded data point
sequences of all tracks (approx. 160k rows)</li>
<li>
<code>tracks</code> contains the summarized track information, one
row per track (157 rows)</li>
<li>
<code>track_classes</code> contains the classification information
for each track, i.e. a class ID and direction (157 rows)</li>
</ul>
<p>Tracks are identified by date, thus if, for example, summaries in
<code>tracks</code> should be extended with class labels for each track,
<code>tracks</code> can be joined with <code>track_classes</code> by the
<code>date</code> key.</p>
<p>For convenience, there are two additional data sets included
(<code>swiss_cantons</code> and <code>swiss_lakes</code>), containing
geographic data for the cantons and lakes of Switzerland. These can be
used to plot a geographic frame of reference when plotting tracks. Since
the trip routes are all within the canton of Berne, the canton data with
a <code>KTNR</code> (“Kantonsnummer”) of 10 (i.e. Berne) is probably the
most useful. The source for the geo data is the Swiss Federal
Statistical Office (Bundesamt für Statistik, BfS), where the raw data
can be downloaded from <a href="https://www.bfs.admin.ch/bfs/de/home/dienstleistungen/geostat/geodaten-bundesstatistik/administrative-grenzen/generalisierte-gemeindegrenzen.assetdetail.30487000.html" class="external-link">this
page</a>.</p>
</div>
<div class="section level2">
<h2 id="cleaning">Cleaning<a class="anchor" aria-label="anchor" href="#cleaning"></a>
</h2>
<p>The data available in the package is a cleaned-up version of the raw
data available in the package sources. Cleanups performed were:</p>
<ul>
<li>Some 0/0 GPS coordinates were set to <code>NA</code> values. These
values were probably caused by some sort of GPS hiccup, so to clarify
that there is no real data available for these points, and to prevent
accidentally using the invalid coordinates for computations, they were
set to <code>NA</code>.</li>
<li>Some duplicate data points were removed. There were some data points
in one track sequence that had the same <em>TrainingTimeAbsolute</em>
values. This looked like a temporary freeze of the bike computer, and
there were some obviously-wrong values for distance and altitude changes
in those rows, so only the first of those rows was kept, the others were
completely removed.</li>
<li>Power zone data was removed. The raw data contained columns for
power zones, however, there is no power sensor installed or calibrated,
so the raw data in these columns is bogus. To prevent confusion, this
data was not included in the package data, i.e. power zone-related
columns were removed.</li>
</ul>
<p>The uncleaned data is still available in the raw CSV files available
in the package sources, and the <em>tracks.R</em> file in the
<em>data-raw</em> folder contains the code that was used to perform the
cleanup.</p>
</div>
<div class="section level2">
<h2 id="geographic-censoring">Geographic Censoring<a class="anchor" aria-label="anchor" href="#geographic-censoring"></a>
</h2>
<p>Since the detailed track data points contain GPS data, the start and
end points of the tracks would show the exact starting points for the
trips, i.e. my address. Therefore, data points at the start and end of a
trip, and within a certain region, were removed. Additionally, the
tracks were then adapted, so that the first point of the censored track
has a time and distance of 0, so that deducing the true starting point
of a track based on the censored data points is not possible (or at
least more difficult).</p>
<p>This approach of just cutting off parts of the track and resetting
the first point to 0 is slightly distorting the data, but this was
deemed acceptable. The initial idea of removing the first and last
points few, but not resetting the time and distance of the first
uncensored point and instead adding random noise to censor individual
tracks but keeping the average track time and distance somewhat more
intact, was not pursued further because it is a more complex approach,
and the risk of accidentally leaking data was deemed higher.</p>
<p>The raw data for the tracks is only available in this censored form,
i.e. the CSV files in <em>data-raw/tracks/censored</em> are the tracks
with a trimmed start and end. The original, unmodified raw CSV files are
not publicly available. The exact details of the censoring procedure can
be found in the <em>data-raw/tracks.R</em> file.</p>
</div>
<div class="section level2">
<h2 id="categorizing">Categorizing<a class="anchor" aria-label="anchor" href="#categorizing"></a>
</h2>
<p>The tracks are not all along different routes, some routes were
driven multiple times (some much more often than others). The tracks
were (manually) classified by their routes, with arbitrary numeric
identifiers for the routes. Routes that were only driven once did not
get their own class, thus some tracks have a route class of
<code>NA</code>. Furthermore, one route was driven in different
directions, tracks along that route all have the same class, but are
additionally labelled as clockwise or counter-clockwise. All other
routes were only ever driven in one direction, these tracks are not
labelled for direction (i.e. their direction column contains
<code>NA</code>).</p>
<p>Classification was done visually, by plotting the tracks, storing the
plots as image files, and then sorting them into folders. The commented
code that was used for classification can be found in
<em>data-raw/track_classification.R</em>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nils S..</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
